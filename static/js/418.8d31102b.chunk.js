"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[418],{7418:(e,t,n)=>{n.d(t,{makeComicBook:()=>o});const o=(e,t)=>{let{entries:n,loadBlob:o,getSize:a}=e;const l=new Map,r=new Map,i=[".jpg",".jpeg",".png",".gif",".bmp",".webp",".svg",".jxl",".avif"],s=n.map((e=>e.filename)).filter((e=>i.some((t=>e.endsWith(t))))).sort();if(!s.length)throw new Error("No supported image files in archive");const c={getCover:()=>o(s[0])};return c.metadata={title:t.name},c.sections=s.map((e=>({id:e,load:()=>(async e=>{if(l.has(e))return l.get(e);const t=URL.createObjectURL(await o(e)),n=URL.createObjectURL(new Blob(['<img src="'.concat(t,'">')],{type:"text/html"}));return r.set(e,[t,n]),l.set(e,n),n})(e),unload:()=>(e=>{var t,n;null===(t=r.get(e))||void 0===t||null===(n=t.forEach)||void 0===n||n.call(t,(e=>URL.revokeObjectURL(e))),r.delete(e),l.delete(e)})(e),size:a(e)}))),c.toc=s.map((e=>({label:e,href:e}))),c.rendition={layout:"pre-paginated"},c.resolveHref=e=>({index:c.sections.findIndex((t=>t.id===e))}),c.splitTOCHref=e=>[e,null],c.getTOCFragment=e=>e.documentElement,c.destroy=()=>{for(const e of r.values())for(const t of e)URL.revokeObjectURL(t)},c}}}]);
//# sourceMappingURL=418.8d31102b.chunk.js.map